<form [formGroup]="form" (ngSubmit)="onSubmit()" class="w-full">
  <div class="table-responsive p-4">
    <table class="table-auto w-full">
      <tbody>
        <tr>
          <td class="px-4 py-2 font-bold">Name:</td>
          <td class="px-4 py-2">
            <input type="text" [(ngModel)]="pokemon.name" class="border border-gray-300 rounded px-4 py-2" formControlName="name">
          </td>
          <td class="px-4 py-2 font-bold">Picture:</td>
          <td class="px-4 py-2">
              <input type="file" (change)="onFileSelected($event)" accept="image/*" class="border border-gray-300 rounded px-4 py-2" formControlName="image">
          </td>
        </tr>
        <tr>
          <td class="px-4 py-2">
            <mat-checkbox class="ml-4" [(ngModel)]="hideRange"
                          (change)="updateGender()" formControlName="legendary">
              No gender
            </mat-checkbox>
          </td>

          <td class="px-4 py-2 col-span-4" *ngIf="!hideRange">
            <span class="mr-2">Male ({{ pokemon.malePct }}%)</span>
            <input type="range" [(ngModel)]="pokemon.malePct" (input)="updateSliderColor($event); updateFemalePercentage()"
                   min="0" max="100" class="w-64 h-4 rounded-full range-slider" formControlName="malePct">
            <span class="ml-2">Female ({{ pokemon.femalePct }}%)</span>
          </td>
        </tr>
        <tr>
          <td class="px-4 py-2 font-bold">Types:</td>
          <td class="px-4 py-2">
            <select class="border border-gray-300 rounded px-4 py-2" formControlName="type1">
              <option *ngFor="let option of typesOptionsNotNone" [value]="option">{{ option }}</option>
            </select>
            <select class="border border-gray-300 rounded px-4 py-2" formControlName="type2">
              <option *ngFor="let option of typesOptions" [value]="option">{{ option }}</option>
            </select>
          </td>
          <td class="px-4 py-2 font-bold">Height:</td>
          <td class="px-4 py-2">
            <input type="number" [(ngModel)]="pokemon.height" class="border border-gray-300 rounded px-4 py-2" formControlName="height">
          </td>
          <td class="px-4 py-2 font-bold">Weight:</td>
          <td class="px-4 py-2">
            <input type="number" [(ngModel)]="pokemon.weight" class="border border-gray-300 rounded px-4 py-2" formControlName="weight">
          </td>
        </tr>
        <tr>
          <td class="px-4 py-2 font-bold">Capt Rate:</td>
          <td class="px-4 py-2">
            <input type="number" [(ngModel)]="pokemon.captRate" class="border border-gray-300 rounded px-4 py-2" formControlName="captRate">
          </td>
        </tr>
        <tr>
          <td class="px-4 py-2 font-bold">Exp Points:</td>
          <td class="px-4 py-2">
            <input type="number" [(ngModel)]="pokemon.expPoints" class="border border-gray-300 rounded px-4 py-2" formControlName="expPoints">
          </td>
          <td class="px-4 py-2 font-bold">Exp Speed:</td>
          <td class="px-4 py-2">
            <select class="border border-gray-300 rounded px-4 py-2" [(ngModel)]="pokemon.expSpeed" formControlName="expSpeed">
              <option *ngFor="let option of expSpeedOptions" [value]="option">{{ option }}</option>
            </select>
          </td>
        </tr>
        <tr>
          <td class="px-4 py-2 font-bold">HP:</td>
          <td class="px-4 py-2">
            <input type="number" [(ngModel)]="pokemon.hp" class="border border-gray-300 rounded px-4 py-2" formControlName="hp">
          </td>
          <td class="px-4 py-2 font-bold">Attack:</td>
          <td class="px-4 py-2">
            <input type="number" [(ngModel)]="pokemon.attack" class="border border-gray-300 rounded px-4 py-2" formControlName="attack">
          </td>
          <td class="px-4 py-2 font-bold">Defense:</td>
          <td class="px-4 py-2">
            <input type="number" [(ngModel)]="pokemon.defense" class="border border-gray-300 rounded px-4 py-2" formControlName="defense">
          </td>
        </tr>
        <tr>
          <td class="px-4 py-2 font-bold">Special:</td>
          <td class="px-4 py-2">
            <input type="number" [(ngModel)]="pokemon.special" class="border border-gray-300 rounded px-4 py-2" formControlName="special">
          </td>
          <td class="px-4 py-2 font-bold">Speed:</td>
          <td class="px-4 py-2">
            <input type="number" [(ngModel)]="pokemon.speed" class="border border-gray-300 rounded px-4 py-2" formControlName="speed">
          </td>
        </tr>
        <tr>
          <td class="px-4 py-2 font-bold">Evolutions:</td>
          <td class="px-4 py-2">
            <input type="number" [(ngModel)]="pokemon.evolutions" class="border border-gray-300 rounded px-4 py-2" formControlName="evolutions">
          </td>
          <td class="px-4 py-2">
            <mat-checkbox class="ml-4"
                  [(ngModel)]="pokemon.legendary"
                  (change)="pokemon.legendary = ((pokemon.legendary === 1 ? 0 : 1))" formControlName="legendary">
              Legendary
            </mat-checkbox>
          </td>
        </tr>
        <tr>
          <td class="px-4 py-2 font-bold">
            <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
              Create
            </button>
          </td>

          <td class="px-4 py-2 font-bold">
            <div class="text-red-600" *ngIf="!this.form.valid">✗ Missing or incorrect values in the form</div>
            <div class="text-green-600" *ngIf="this.form.valid">✔ Ready to create</div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</form>
